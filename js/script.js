const glasses = [
  {
    id: 1,
    image: "public/assets/img/laguna.jpg",
    hoverImage: "public/assets/img/laguna_1.jpg",
    name: "Laguna Marrom",
    model: "Modelo Feminino",
    oldPrice: "R$300,00",
    price: "R$250,00",
    installment: "R$25,00",
  },
  {
    id: 2,
    image: "public/assets/img/toquio.jpg",
    hoverImage: "public/assets/img/toquio_1.jpg",
    name: "Tóquio",
    model: "Modelo Feminino",
    oldPrice: "R$300,00",
    price: "R$250,00",
    installment: "R$25,00",
  },
  {
    id: 3,
    image: "public/assets/img/oculos_1.jpg",
    hoverImage: "public/assets/img/oculos_1_1.jpg",
    name: "Maldivas",
    model: "Modelo Feminino",
    oldPrice: "R$300,00",
    price: "R$250,00",
    installment: "R$25,00",
  },
  {
    id: 4,
    image: "public/assets/img/oculos_2.jpg",
    hoverImage: "public/assets/img/oculos_2_1.jpg",
    name: "Chaiene Preto",
    model: "Modelo Feminino",
    oldPrice: "R$300,00",
    price: "R$250,00",
    installment: "R$25,00",
  },
  {
    id: 5,
    image: "public/assets/img/oculos_3.jpg",
    hoverImage: "public/assets/img/oculos_3_1.jpg",
    name: "Spencer",
    model: "Modelo Feminino",
    oldPrice: "R$300,00",
    price: "R$250,00",
    installment: "R$25,00",
  },
  {
    id: 6,
    image: "public/assets/img/oculos_4.jpg",
    hoverImage: "public/assets/img/oculos_4_1.jpg",
    name: "Gisele Preto",
    model: "Modelo Feminino",
    oldPrice: "R$300,00",
    price: "R$250,00",
    installment: "R$25,00",
  },
  {
    id: 7,
    image: "public/assets/img/oculos_5.jpg",
    hoverImage: "public/assets/img/oculos_5_1.jpg",
    name: "Elisa Verde",
    model: "Modelo Feminino",
    oldPrice: "R$300,00",
    price: "R$250,00",
    installment: "R$25,00",
  },
  {
    id: 8,
    image: "public/assets/img/oculos_6.jpg",
    hoverImage: "public/assets/img/oculos_6_1.jpg",
    name: "Prada Linea Rossa",
    model: "Modelo Feminino",
    oldPrice: "R$300,00",
    price: "R$250,00",
    installment: "R$25,00",
  },
  {
    id: 9,
    image: "public/assets/img/oculos_7.jpg",
    hoverImage: "public/assets/img/oculos_7_1.jpg",
    name: "Robin Transparente",
    model: "Modelo Feminino",
    oldPrice: "R$300,00",
    price: "R$250,00",
    installment: "R$25,00",
  },
  {
    id: 10,
    image: "public/assets/img/oculos_8.jpg",
    hoverImage: "public/assets/img/oculos_8_1.jpg",
    name: "Vênus Preto",
    model: "Modelo Feminino",
    oldPrice: "R$300,00",
    price: "R$250,00",
    installment: "R$25,00",
  },
  {
    id: 11,
    image: "public/assets/img/oculos_9.jpg",
    hoverImage: "public/assets/img/oculos_9_1.jpg",
    name: "Diamond Preto",
    model: "Modelo Feminino",
    oldPrice: "R$300,00",
    price: "R$250,00",
    installment: "R$25,00",
  },
  {
    id: 12,
    image: "public/assets/img/oculos_10.jpg",
    hoverImage: "public/assets/img/oculos_10_1.jpg",
    name: "Jade Rosa Translúcido",
    model: "Modelo Feminino",
    oldPrice: "R$300,00",
    price: "R$250,00",
    installment: "R$25,00",
  },
  {
    id: 13,
    image: "public/assets/img/oculos_11.jpg",
    hoverImage: "public/assets/img/oculos_11_1.jpg",
    name: "Dubai Rosa",
    model: "Modelo Feminino",
    oldPrice: "R$300,00",
    price: "R$250,00",
    installment: "R$25,00",
  },
  {
    id: 14,
    image: "public/assets/img/oculos_12.jpg",
    hoverImage: "public/assets/img/oculos_12_1.jpg",
    name: "Miraflex Baby Plus",
    model: "Modelo Feminino",
    oldPrice: "R$300,00",
    price: "R$250,00",
    installment: "R$25,00",
  },
  {
    id: 15,
    image: "public/assets/img/oculos_13.jpg",
    hoverImage: "public/assets/img/oculos_13_1.jpg",
    name: "Ibiza 2.0 Azul",
    model: "Modelo Feminino",
    oldPrice: "R$300,00",
    price: "R$250,00",
    installment: "R$25,00",
  },
  {
    id: 16,
    image: "public/assets/img/oculos_15.jpg",
    hoverImage: "public/assets/img/oculos_15_1.jpg",
    name: "Elisa Azul",
    model: "Modelo Feminino",
    oldPrice: "R$300,00",
    price: "R$250,00",
    installment: "R$25,00",
  },
  {
    id: 17,
    image: "public/assets/img/oculos_16.jpg",
    hoverImage: "public/assets/img/oculos_16_1.jpg",
    name: "Blumenau Preto",
    model: "Modelo Feminino",
    oldPrice: "R$300,00",
    price: "R$250,00",
    installment: "R$25,00",
  },
  {
    id: 18,
    image: "public/assets/img/oculos_17.jpg",
    hoverImage: "public/assets/img/oculos_17_1.jpg",
    name: "Marrocos Bambu",
    model: "Modelo Masculino",
    oldPrice: "R$300,00",
    price: "R$250,00",
    installment: "R$25,00",
  },
  {
    id: 19,
    image: "public/assets/img/oculos_18.jpg",
    hoverImage: "public/assets/img/oculos_18_1.jpg",
    name: "Malvadão Prateado",
    model: "Modelo Masculino",
    oldPrice: "R$300,00",
    price: "R$250,00",
    installment: "R$25,00",
  },
  {
    id: 20,
    image: "public/assets/img/oculos_19.jpg",
    hoverImage: "public/assets/img/oculos_19_1.jpg",
    name: "Malibu Cinza e Transparente",
    model: "Modelo Masculino",
    oldPrice: "R$300,00",
    price: "R$250,00",
    installment: "R$25,00",
  },
  {
    id: 21,
    image: "public/assets/img/oculos_20.jpg",
    hoverImage: "public/assets/img/oculos_20_1.jpg",
    name: "Hexagonal Degradê",
    model: "Modelo Masculino",
    oldPrice: "R$300,00",
    price: "R$250,00",
    installment: "R$25,00",
  },
  {
    id: 22,
    image: "public/assets/img/oculos_21.jpg",
    hoverImage: "public/assets/img/oculos_21_1.jpg",
    name: "Riley Cinza",
    model: "Modelo Masculino",
    oldPrice: "R$300,00",
    price: "R$250,00",
    installment: "R$25,00",
  },
  {
    id: 23,
    image: "public/assets/img/oculos_22.jpg",
    hoverImage: "public/assets/img/oculos_22_1.jpg",
    name: "Queridinho Preto Bambu",
    model: "Modelo Masculino",
    oldPrice: "R$300,00",
    price: "R$250,00",
    installment: "R$25,00",
  },
  {
    id: 24,
    image: "public/assets/img/oculos_23.jpg",
    hoverImage: "public/assets/img/oculos_23_1.jpg",
    name: "Robin Preto",
    model: "Modelo Masculino",
    oldPrice: "R$300,00",
    price: "R$250,00",
    installment: "R$25,00",
  },
  {
    id: 25,
    image: "public/assets/img/oculos_24.jpg",
    hoverImage: "public/assets/img/oculos_24_1.jpg",
    name: "Karen Animal Print",
    model: "Modelo Feminino",
    oldPrice: "R$300,00",
    price: "R$250,00",
    installment: "R$25,00",
  },
  {
    id: 26,
    image: "public/assets/img/oculos_25.jpg",
    hoverImage: "public/assets/img/oculos_25_1.jpg",
    name: "Clover Preto",
    model: "Modelo Feminino",
    oldPrice: "R$300,00",
    price: "R$250,00",
    installment: "R$25,00",
  },
  {
    id: 27,
    image: "public/assets/img/oculos_26.jpg",
    hoverImage: "public/assets/img/oculos_26_1.jpg",
    name: "Polaroid 4139/S",
    model: "Modelo Feminino",
    oldPrice: "R$300,00",
    price: "R$250,00",
    installment: "R$25,00",
  },
  {
    id: 28,
    image: "public/assets/img/oculos_27.jpg",
    hoverImage: "public/assets/img/oculos_27_1.jpg",
    name: "Urban 2.0 Preto",
    model: "Modelo Feminino",
    oldPrice: "R$300,00",
    price: "R$250,00",
    installment: "R$25,00",
  },
  {
    id: 29,
    image: "public/assets/img/oculos_28.jpg",
    hoverImage: "public/assets/img/oculos_28_1.jpg",
    name: "Urban 3.0 Preto",
    model: "Modelo Feminino",
    oldPrice: "R$300,00",
    price: "R$250,00",
    installment: "R$25,00",
  },
  {
    id: 30,
    image: "public/assets/img/oculos_29.jpg",
    hoverImage: "public/assets/img/oculos_29_1.jpg",
    name: "Urban 2.0 Preto",
    model: "Modelo Feminino",
    oldPrice: "R$300,00",
    price: "R$250,00",
    installment: "R$25,00",
  },
  {
    id: 31,
    image: "public/assets/img/oculos_30.jpg",
    hoverImage: "public/assets/img/oculos_30_1.jpg",
    name: "Urban 2.0 Animal Print",
    model: "Modelo Feminino",
    oldPrice: "R$300,00",
    price: "R$250,00",
    installment: "R$25,00",
  },
  {
    id: 32,
    image: "public/assets/img/oculos_31.jpg",
    hoverImage: "public/assets/img/oculos_31_1.jpg",
    name: "Urban 4.0",
    model: "Modelo Feminino",
    oldPrice: "R$300,00",
    price: "R$250,00",
    installment: "R$25,00",
  },
  {
    id: 33,
    image: "public/assets/img/oculos_32.jpg",
    hoverImage: "public/assets/img/oculos_32_1.jpg",
    name: "Gatinha V Bege",
    model: "Modelo Feminino",
    oldPrice: "R$300,00",
    price: "R$250,00",
    installment: "R$25,00",
  },
  {
    id: 34,
    image: "public/assets/img/oculos_33.jpg",
    hoverImage: "public/assets/img/oculos_33_1.jpg",
    name: "Gatinha V Bege",
    model: "Modelo Feminino",
    oldPrice: "R$300,00",
    price: "R$250,00",
    installment: "R$25,00",
  },
  {
    id: 35,
    image: "public/assets/img/oculos_34.jpg",
    hoverImage: "public/assets/img/oculos_34_1.jpg",
    name: "Laguna Marrom Degradê",
    model: "Modelo Feminino",
    oldPrice: "R$300,00",
    price: "R$250,00",
    installment: "R$25,00",
  },
  {
    id: 36,
    image: "public/assets/img/oculos_35.jpg",
    hoverImage: "public/assets/img/oculos_35_1.jpg",
    name: "Neve cinza",
    model: "Modelo Feminino",
    oldPrice: "R$300,00",
    price: "R$250,00",
    installment: "R$25,00",
  },
  {
    id: 37,
    image: "public/assets/img/oculos_36.jpg",
    hoverImage: "public/assets/img/oculos_36_1.jpg",
    name: "Clover Rose",
    model: "Modelo Feminino",
    oldPrice: "R$300,00",
    price: "R$250,00",
    installment: "R$25,00",
  },
  {
    id: 38,
    image: "public/assets/img/oculos_37.jpg",
    hoverImage: "public/assets/img/oculos_37_1.jpg",
    name: "Play Preto",
    model: "Modelo Masculino",
    oldPrice: "R$300,00",
    price: "R$250,00",
    installment: "R$25,00",
  },
];

function setupButtonAnimation() {
  setTimeout(() => {
    const firstButton = document.querySelector(
      ".btn-header > .btn-default:first-child"
    );
    if (firstButton) {
      firstButton.style.animation = "pulse 1.5s infinite ease-in-out";

      setInterval(() => {
        firstButton.classList.toggle("pulse-animation");
        setTimeout(() => {
          firstButton.classList.toggle("pulse-animation");
        }, 2000);
      }, 4000);
    }
  }, 1500);
}

function createGlassesCards() {
  const container = document.getElementById("glasses-container");

  glasses.forEach((glass) => {
    const cardHTML = `
      <div class="swiper-slide card" id="card-${glass.id}" data-glass-id="${glass.id}">
        <div class="card-image">
          <img src="${glass.image}" alt="${glass.name}" />
        </div>
        <div class="card-content">
          <div class="card-title">
            <h2>${glass.name}</h2>
            <span>(${glass.model})</span>
          </div>
          <div class="card-price">
            <span class="old-price">${glass.oldPrice}</span>
            <span class="price">${glass.price}</span>
            <span class="font-14">ou até 10x de ${glass.installment} sem juros</span>
          </div>
          <div class="card-button">
            <a href="https://wa.me/+5532999188226?text=Ol%C3%A1!%20Vi%20o%20%C3%B3culos%20${glass.name}%20e%20gostei%20muito!" class="btn-default">
              <i class="bx bxs-phone"></i>
              Fale com um vendedor
            </a>
          </div>
        </div>
      </div>
    `;
    container.innerHTML += cardHTML;
  });
}

function setupHoverEffects() {
  const cards = document.querySelectorAll(".card");

  cards.forEach((card) => {
    const glassId = parseInt(card.dataset.glassId);
    const img = card.querySelector("img");

    const glass = glasses.find((g) => g.id === glassId);

    if (glass && glass.image && glass.hoverImage) {
      card.addEventListener("mouseenter", () => {
        img.src = glass.hoverImage;
      });

      card.addEventListener("mouseleave", () => {
        img.src = glass.image;
      });
    }
  });
}

function initializeSwiper() {
  const swiper = new Swiper(".swiper", {
    slidesPerView: "auto",
    centeredSlides: true,
    loop: true,
    autoPlay: {
      delay: 3000,
      disableOnInteraction: false,
    },

    preloadImages: false,
    lazy: true,

    navigation: {
      nextEl: ".swiper-button-next",
      prevEl: ".swiper-button-prev",
    },

    breakpoints: {
      320: {
        slidesPerView: 1,
        spaceBetween: 10,
      },
      768: {
        slidesPerView: 1,
        spaceBetween: 20,
      },
      1024: {
        slidesPerView: 3,
        spaceBetween: 20,
      },
    },
    updateOnWindowResize: true,
    resizeObserver: true,
    on: {
      resize: function () {
        if (window.innerWidth <= 768) {
          this.updateSize();
          this.updateSlides();
          this.updateProgress();
          this.update();
        }
      },
      slideChangeTransitionEnd: function () {
        if (window.innerWidth <= 768) {
          this.updateSize();
          this.updateSlides();
        }
      },
    },
  });

  if (window.innerWidth <= 768) {
    setTimeout(() => {
      swiper.update();
    }, 500);
  }

  return swiper;
}

document.addEventListener("DOMContentLoaded", () => {
  createGlassesCards();

  setupHoverEffects();

  const mySwiper = initializeSwiper();

  window.addEventListener("resize", function () {
    setTimeout(() => {
      mySwiper.update();
    }, 200);
  });

  setupButtonAnimation();
});
